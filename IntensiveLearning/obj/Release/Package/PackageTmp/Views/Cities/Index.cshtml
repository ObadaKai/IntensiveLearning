@model IEnumerable<IntensiveLearning.Database.City>

@{
    ViewBag.Title = "لائحة المدن";
}

<h2>لائحة المدن</h2>

@using (Html.BeginForm("Create", "Cities", FormMethod.Get))
{
    <button type="submit" class="btn btn-warning">انشاء جديد</button>
}
<div id="table_wrapper">
    <table class="table table-striped">
        <thead>
            <tr class="bg-primary">
                <th>
                    @Html.DisplayNameFor(model => model.Name)
                </th>

                <th>
                    @Html.DisplayNameFor(model => model.CountryName)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Project.ProjectName)
                </th>
                <th></th>






            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>

                    <td>
                        @Html.DisplayFor(modelItem => item.Name)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.CountryName)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Project.ProjectName)
                    </td>



                    <td>
                        @if (Session["AddCitesAndCenters"] != null)
                        {
                            if ((bool)Session["AddCitesAndCenters"] == true)
                            {
                                if (Session["SeeAccToCity"] != null)
                                {
                                    if ((bool)Session["SeeAccToCity"] == true)
                                    {
                                        <a href="/Cities/Details/@item.id" class="btn btn-info"><span class="glyphicon glyphicon-folder-open"></span></a>

                                    }
                                    else
                                    {
                                        <div style="width:130px;">
                                            <a href="/Cities/Delete/@item.id" class="btn btn-danger"><span class="glyphicon glyphicon-trash"></span></a>
                                            <a href="/Cities/Details/@item.id" class="btn btn-info"><span class="glyphicon glyphicon-folder-open"></span></a>
                                            <a href="/Cities/Edit/@item.id" class="btn btn-success"><span class="glyphicon glyphicon-pencil"></span></a>
                                        </div>

                                    }
                                }
                                else
                                {
                                    <div style="width:130px;">
                                        <a href="/Cities/Delete/@item.id" class="btn btn-danger"><span class="glyphicon glyphicon-trash"></span></a>
                                        <a href="/Cities/Details/@item.id" class="btn btn-info"><span class="glyphicon glyphicon-folder-open"></span></a>
                                        <a href="/Cities/Edit/@item.id" class="btn btn-success"><span class="glyphicon glyphicon-pencil"></span></a>
                                    </div>

                                }
                            }
                            else
                            {
                                <a href="/Cities/Details/@item.id" class="btn btn-info"><span class="glyphicon glyphicon-folder-open"></span></a>
                            }
                        }
                        else
                        {
                            <a href="/Cities/Details/@item.id" class="btn btn-info"><span class="glyphicon glyphicon-folder-open"></span></a>
                        }
                    </td>



                </tr>

            }
        </tbody>
    </table>
</div>
<button id="btnExport" class="btn btn-warning">xls تصدير إلى</button>
@if (ViewBag.StateMessage != null)
{
        <div class="alert alert-success alert-dismissible" role="alert" style="width:inherit;position:absolute;bottom:5%;" id="ToFadeMessage">
        <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        @ViewBag.StateMessage
    </div>
}